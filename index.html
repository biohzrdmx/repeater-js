<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repeater</title>
    <script type="text/javascript" src="dist/repeater.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="dist/repeater.min.css">
</head>
<body>
    <div class="container py-3">
        <div id="repeater"></div>
    </div>
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", () => {
            const container = document.getElementById("repeater");
            const schema = {
                collapsed: 'title',
                fields: [{
                    type: 'text',
                    name: 'title',
                    label: 'Title',
                    placeholder: 'Enter a title',
                    required: true,
                }, {
                    type: 'email',
                    name: 'email',
                    label: 'Contact email',
                    placeholder: 'Enter a link',
                    required: false,
                }, {
                    type: 'url',
                    name: 'link',
                    label: 'Link',
                    placeholder: 'Enter a link',
                    required: false,
                }, {
                    type: 'textarea',
                    name: 'description',
                    label: 'Description',
                    placeholder: 'Enter a description',
                    required: false,
                }, {
                    type: 'select',
                    name: 'status',
                    label: 'Status',
                    default: 'draft',
                    required: false,
                    options: [
                        {'draft': 'Draft'},
                        {'published': 'Published'},
                    ]
                }, {
                    type: 'radio',
                    name: 'category',
                    label: 'Category',
                    required: false,
                    options: [
                        {'news': 'News'},
                        {'events': 'Events'},
                    ]
                }, {
                    type: 'checkbox',
                    name: 'tags',
                    label: 'Tags',
                    required: false,
                    options: [
                        {'cars': 'Cars'},
                        {'tech': 'Tech'},
                        {'medicine': 'Medicine'},
                        {'gadgets': 'Gadgets'},
                    ]
                }, {
                    type: 'repeater',
                    name: 'faqs',
                    label: 'FAQs',
                    required: false,
                    schema: {
                        button: 'Add question',
                        collapsed: 'question',
                        fields: [{
                            type: 'text',
                            name: 'question',
                            label: 'Question',
                            required: true,
                        }, {
                            type: 'textarea',
                            name: 'answer',
                            label: 'Answer',
                            required: true,
                        }, {
                            type: 'repeater',
                            name: 'buttons',
                            label: 'Buttons',
                            required: false,
                            schema: {
                                button: 'Add button',
                                collapsed: 'text',
                                fields: [{
                                    type: 'text',
                                    name: 'text',
                                    label: 'Text',
                                    required: true,
                                }, {
                                    type: 'url',
                                    name: 'link',
                                    label: 'Link',
                                    required: true,
                                }]
                            }
                        }]
                    }
                }]
            };
            window.repeater = Repeater.create(container, schema, new Repeater.BootstrapAdapter);
            window.repeater.load('[{"_collapsed":true,"title":"Lorem ipsum","email":"lorem@ipsum.com","link":"ipsum.com","description":"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt, nisi esse? Iure sapiente ab quasi reiciendis!","status":"published","category":"events","tags":[],"faqs":[{"_collapsed":true,"question":"Lorem ipsum?","answer":"Dolor sit amet","buttons":[]},{"_collapsed":true,"question":"Dolor sit amet?","answer":"Lorem ipsum!","buttons":[]}]},{"_collapsed":false,"title":"Lorem ipsum","email":"lorem@ipsum.com","link":"ipsum.com","description":"Lorem ipsum dolor sit amet consectetur adipisicing elit. Sunt, nisi esse? Iure sapiente ab quasi reiciendis!","status":"published","category":"events","tags":[],"faqs":[{"_collapsed":true,"question":"Lorem ipsum?","answer":"Dolor sit amet","buttons":[]},{"_collapsed":true,"question":"Dolor sit amet?","answer":"Lorem ipsum!","buttons":[]},{"_collapsed":false,"question":"Foo?","answer":"Bar!","buttons":[{"_collapsed":false,"text":"More information","link":"https://lmgtfy.com?q=foo+bar"}]}]}]');
        });
    </script>
</body>
</html>